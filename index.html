<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="Screen Recorder">
    <meta property="og:url" content="https://kaisei-yoneyama.github.io/notes/">
    <meta property="og:description" content="Screen Capture API と MediaStream Recording API を使って画面収録できます。">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
    <title>Screen Recorder</title>
  </head>
  <body>
    <main class="container my-5">
      <h1 class="mb-5 pb-3 border-bottom">Screen Recorder</h1>

      <form id="settings-form">
        <label for="frame-rate" class="form-label">解像度</label>
        <select class="form-select mb-3" name="resolution">
          <option value="7680x4320">4320p (8K)</option>
          <option value="3840x2160">2160p (4K)</option>
          <option value="2560x1440">1440p (2k)</option>
          <option value="1920x1080" selected>1080p (HD)</option>
          <option value="1280x720">720p (HD)</option>
          <option value="640x360">360p (SD)</option>
          <option value="426x240">240p (SD)</option>
        </select>

        <label for="frame-rate" class="form-label">フレームレート</label>
        <select class="form-select mb-3" name="frame-rate">
          <option value="24">24fps</option>
          <option value="30">30fps</option>
          <option value="60" selected>60fps</option>
          <option value="120">120fps</option>
        </select>

        <label for="frame-rate" class="form-label">サンプルレート</label>
        <select class="form-select mb-3" name="sample-rate">
          <option value="44100" selected>44.1kHz</option>
          <option value="88200">88.2kHz</option>
          <option value="96000">96kHz</option>
          <option value="192000">192kHz</option>
        </select>

        <button type="submit" class="btn btn-primary"><i class="bi bi-cast"></i> キャプチャ</button>
      </form>

      <div class="modal fade" id="controller" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Screen Recorder</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <video id="preview" class="img-thumbnail w-100" controls autoplay></video>
            </div>
            <div class="modal-footer">
              <button id="download-button" type="button" class="btn btn-secondary" disabled><i class="bi bi-download"></i> ダウンロード</button>

              <div class="btn-group my-3" role="group">
                <button id="record-button" type="button" class="btn btn-primary"><i class="bi bi-record-circle"></i> 収録開始</button>

                <input type="checkbox" class="btn-check" id="pause-button" autocomplete="off" disabled>
                <label class="btn btn-success" for="pause-button" id="pause-label"><i class="bi bi-pause-circle"></i> 一時停止</label>

                <button id="stop-button" type="button" class="btn btn btn-danger" disabled><i class="bi bi-stop-circle"></i> 収録停止</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="./scripts/recording.js"></script>
    <script src="./scripts/capture.js"></script>
  </body>
</html>
